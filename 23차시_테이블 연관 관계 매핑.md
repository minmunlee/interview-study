## ✏️ 테이블 연관 관계 매핑


<details>
  <summary>@GeneratedValue 를 사용할 때 선언되는 IDENTITY와 SEQUENCE 전략에 대해 설명해주세요.</summary> 
  
  IDENTITY는 기본키 생성을 데이터베이스에 위임하는 전략으로 `em.persist()` 로 객체를 영속화 시키는 시점에 바로 insert 쿼리가 전송되어 반환 받은 식별자 값을 가지고 1차 캐시에 엔티티를 등록시켜 관리합니다.

  SEQUENCE는 DB의 시퀀스 값을 이용하여 ID 값을 증가시킵니다. 데이터베이스의 시퀀스는 유일한 값을 순서대로 생성하는 데이터베이스 오브젝트입니다.
</details>

<details>
  <summary>Fetch Type 종류에 대해 설명해주세요.</summary> 
  
  - Fetch Type에는 즉시 로딩과 지연 로딩이 있습니다. 즉시 로딩이란 하나의 엔티티를 조회할 때 관련된 엔티티를 모두 그 즉시 조회하는 것이고 지연 로딩은 필요로 하는 엔티티만 조회하도록 만들어졌습니다.
  
  - Fetch Type 이란 하나의 엔티티를 조회할 때 그 연관관계에 있는 엔티티를 조회하는 방법을 의미하며, 종류로는 즉시 로딩(Eager Loding)과 지연 로딩(Lazy Loding)이 존재합니다. 즉시 로딩은 엔티티를 조회할 때, 그와 연관된 엔티티도 함께 조회하는 방법이며, 지연 로딩은 연관된 엔티티가 있더라도 해당 엔티티만 조회하는 방법입니다. 연관된 엔티티를 프록시 객체로 로딩하고, 실제 엔티티가 필요한 시점에 데이터베이스에서 조회합니다.
</details>

<details>
  <summary>CASCADE 에 대해서 설명해주세요.</summary> 
  
  - 부모 엔티티가 저장되거나 삭제될 때 연관된 자식 엔티티도 함께 처리되도록 하는 기능입니다.
  연관된 객체를 일일이 관리하지 않아도 되기 때문에 코드가 간결해지고 유지보수가 쉬워진다는 장점이 있지만 부모를 삭제할 때 자식까지 예상치 못하게 삭제될 수 있어 주의해야합니다. 유형에는 PERSIST, MERGE, REMOVE, REFRESH, DETACH 가 있습니다.

  - CascadeType은 부모 엔티티의 상태 변화가 있을 때 연관되어 있는 자식 엔티티에 전파하는 방법을 의미합니다. 자식 엔티티에도 동일한 작업을 수행해야 할 경우 데이터베이스 일관성을 위해 사용됩니다.

종류로는 RERSIST, MERGE, REMOVE, REFRESH, DETACH, ALL 이 있습니다.
</details>

<details>
  <summary>JPA에서 테이블 연관관계 종류와 각각의 특징을 설명해주세요.</summary> 
  JPA 연관관계는 크게 단방향과 양방향 연관관계로 나눌 수 있으며, 단방향 연관관계는 객체 모델에서 한 객체가 다른 객체를 참조하는 관계를 의미하며, 단방향으로만 참조가 가능합니다. 즉, A 객체가 B 객체를 참조할 때, B 객체는 A 객체를 참조할 수 없습니다. 양방향 연관관계는 객체 모델에서 양쪽에서 서로를 참조할 수 있는 관계를 의미합니다. 즉, A 객체와 B 객체가 서로를 참조할 수 있습니다.
  </details>

----

<details>
  <summary>참고</summary>

  - [N + 1의 원인과 해결방법](https://velog.io/@maxgun98/N-1%EC%9D%98-%EC%9B%90%EC%9D%B8%EA%B3%BC-%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95)
  - [Spring Boot Data JPA FetchType 이해하기: 즉시/지연 로딩(Eager/Lazy Loading)](https://adjh54.tistory.com/476)
  - [Cascade타입 이해하기](https://wikidocs.net/blog/@dragonhappy9/1257/)
  - [영속성 전이(Cascade) ManyToOne 시 주의할점 - 상위 엔티티 삭제 문제](https://olrlobt.tistory.com/74](https://0soo.tistory.com/133))
  - [CascadeType.ALL 사용시 주의 해야 할 점](https://junghyungil.tistory.com/133](https://resilient-923.tistory.com/417))
</details>
